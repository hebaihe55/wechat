@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>信息提交</title>

    <meta name="viewport" content="width=750, user-scalable=no, target-densitydpi=device-dpi" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no">
    <link href="~/Content/yamaha/css/style.css" rel="stylesheet" type="text/css" />
    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script src="~/Content/yamaha/js/main.js"></script>
    <script>
        var reg = /^1[3|4|5|7|8]\d{9}$/;
        function checkform2() {
            var user = $("form .user").val();
            var tel = $("form .tel").val();
            var address = $("form .address").val();
            var yzm = $("form .yzm").val();
            if (user == null || user == "") {
                alert("请输入您的姓名");
                return false;
            } else if (user.length > 10) {
                alert("长度必须小于10位");
                return false;
            }
            
            if (!(reg.test(tel))) {
                alert("手机号码有误，请重填");
                return false;
            }
            if (address == null || address == "") {
                alert("请输入地址");
                return false;
            }
            if (yzm == null || yzm == "") {
                alert("验证码不得为空");
            }
            return true;

        }
        var time = 10;
        var interval;
        function postyzm() {

            time--;
           
            $(".yzmbtn").css({
                "background": "gray",
                "color": "white",
                "font-size":"32px"
            });
            $(".yzmbtn").val(time + "秒后重新发送");
            if (time == 0) {
                $(".yzmbtn").attr("disabled", false);
                $(".yzmbtn").css({
                    "background": "url(/Content/yamaha/image/yzmbtn.png)"
                });
                $(".yzmbtn").val("");
                clearTimeout(interval);
                time = 10;
            }
        }
        function sendmassage() {
           
            var yzmvalue = $(".yzm").val();
            if (!(reg.test(yzmvalue))) {
                alert("手机号码有误，请重新输入");
                return false;
            } else {
                $(".yzmbtn").attr("disabled", "disabled");
                interval = setInterval("postyzm()", 1000);
                
            }
           
             
        }
        //获得随机验证码
        function getramdomyzm() {

        }
       
    </script>
</head>

<body>
    <div class="getawardsubinfowrap">
        <form action="/yamaha1/thank" method="post" onsubmit="return checkform2()">
            <input type="text" name="user" class="user" placeholder="姓名"><br>
            <input type="text" name="tel" class="tel" placeholder="手机号码"><br />
            <input type="text" name="address" class="address" placeholder="请输入地址"><br />
            <div class="yzmwrap"><input type="text" class="yzm" name="yzm"/><input type="button" style="background:url(/Content/yamaha/image/yzmbtn.png) no-repeat" class="yzmbtn" onclick="sendmassage()"/></div>
            <input type="submit" value="">
        </form>
    </div>
</body>
</html>

